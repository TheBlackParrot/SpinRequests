{"name":"SpinRequests Firebot Setup","description":"TheBlackParrot's setup for SpinRequests","version":1,"author":"theblackparrot","components":{"commands":[{"active":true,"simple":false,"sendCooldownMessage":true,"cooldownMessage":"This command is still on cooldown for: {timeLeft}","cooldown":{},"effects":{"id":"72ef31da-2b56-478e-8d5c-6a0b3664e208","list":[{"id":"24e23ce6-8f9b-4941-82a2-b3de8a711eae","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:command-args-count","comparisonType":"is greater than","value":null,"rightSideValue":0}]},"effectData":{"list":[{"id":"8ea42395-3e6f-4f6a-99eb-658da1d170ef","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"bsrKey":"$arg[1]","SpinShareKey":"$replace[$arg[all], \"https://spinsha.re/song/\", \"\"]"},"effectList":{"list":[],"id":"bd754ffa-e78b-4bfe-bcc0-21ab73dab00f"},"presetListId":"63a0cc43-8920-46b4-b659-99f461a18dea","bubbleOutputs":true,"percentWeight":null},{"id":"722f6c37-530d-433c-b205-76318bdd5a75","type":"firebot:run-effect-list","active":false,"listType":"preset","presetListArgs":{"bsrKey":"$arg[1]"},"effectList":{"list":[],"id":"4600eb7b-a907-4cad-b7df-8ed7b7ef891e"},"presetListId":"f69cce9a-c2fa-46f6-8559-da13b4fd1a41","percentWeight":null},{"id":"45f7a899-3c61-4428-86e3-64b700dc6f1e","type":"firebot:text-to-speech","active":true,"voiceId":"Microsoft Richard - English (Canada)","text":"$username requested $arrayJoin[$splitText[$$srxdInfo[\"SpinShareKey\"], \"\"], \" \"], $$srxdInfo[\"Title\"], by $$srxdInfo[\"Artist\"], mapped by $$srxdInfo[\"Mapper\"], last updated on $%formatDate[$$srxdInfo[\"UploadTime\"], \"D MMM YYYY\"]","percentWeight":null,"wait":false}],"id":"3dfad566-d880-4a1e-8523-e6693594f0cc"},"label":"Arguments are present"}],"otherwiseEffectData":{"list":[],"id":"af0e11c2-73d6-4ee3-953e-8367e2f38cfb"},"bubbleOutputs":false,"percentWeight":null,"effectLabel":"Get map info"},{"id":"4c1ec495-a5b2-4d76-93cb-01d45894879d","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$$srxdQueueOpen","rightSideValue":"true"}]},"effectData":{"list":[{"id":"f39558d0-0a83-11f0-8568-0736c1358647","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:command-args-count","comparisonType":"is greater than","value":null,"rightSideValue":0}]},"effectData":{"list":[{"id":"1bfc43f0-102f-11f0-a0fd-91068e39c3ee","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$$srxdInfo[\"HasPlayed\"]","rightSideValue":"true"}]},"effectData":{"list":[{"id":"f396ff44-04ba-4a5d-afef-5e616032bfd2","type":"firebot:chat","active":true,"chatter":"Bot","message":"‚ö†Ô∏è This map has already been played this session!","percentWeight":null,"sendAsReply":true}],"id":"0b76ea7b-5196-4fd9-b490-1590c2bd4ef0"},"label":"Map has already been played"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$$srxdInfo[\"InQueue\"]","rightSideValue":"true"}]},"effectData":{"list":[{"id":"19b3cab7-b96b-451d-804d-0f813a5c15d8","type":"firebot:chat","active":true,"chatter":"Bot","message":"‚ö†Ô∏è This map is already in the queue!","percentWeight":null,"sendAsReply":true}],"id":"3e70c7df-935e-4a4e-8157-073d286f09cf"},"label":"Map is already in queue"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is less than or equal to","value":null,"leftSideValue":"$math[$unixTimestamp - $$srxdInfo[\"UploadTime\"]]","rightSideValue":"259200"}]},"effectData":{"list":[{"id":"cfca68e9-9fea-4353-810c-8be33a84505a","type":"firebot:chat","active":true,"chatter":"Bot","message":"‚ö†Ô∏è This map is too new, it must be at least 3 days old. Moderators can manually add the map to the queue if need be.","percentWeight":null,"sendAsReply":true}],"id":"3a02a552-ff58-413a-83a6-67e1d3efee90"},"label":"Map is too new"}],"otherwiseEffectData":{"list":[{"id":"318f91c7-4d33-49bd-88eb-e862d82674d1","type":"firebot:http-request","active":true,"headers":[],"options":{"runEffectsOnError":true,"timeout":10000},"url":"http://127.0.0.1:6969/add/$replace[$arg[all], \"https://spinsha.re/song/\", \"\"]?user=$userDisplayName&service=twitch","method":"GET","percentWeight":null,"errorEffects":{"list":[{"id":"30f9eb96-5110-4325-8a15-8520c97b1898","type":"firebot:chat","active":true,"chatter":"Bot","sendAsReply":true,"message":"‚ö†Ô∏è Something went wrong: $objectWalkPath[$effectOutput[httpResponse], message]","percentWeight":null},{"id":"2f652622-f918-449a-bc7d-cfdb80ef2edb","type":"firebot:stop-effect-execution","active":true,"target":"currentList","bubbleStop":true,"percentWeight":null}],"id":"8200ed52-5d57-462d-b22a-8f25daca9bab"}},{"id":"de09d1fe-cd28-4a57-bdbb-0faaeb264f8a","type":"firebot:chat","active":true,"chatter":"Bot","sendAsReply":true,"message":"üÜó Added map $replace[$arg[1], \"https://spinsha.re/song/\", \"\"] ($$srxdInfo[\"Title\"] by $$srxdInfo[\"Artist\"]) to the queue.","percentWeight":null}],"id":"1bfd7c70-102f-11f0-a0fd-91068e39c3ee"},"percentWeight":null,"effectLabel":"Check filters and add the map to the queue","otherwiseLabel":"Add the map to the queue"}],"id":"1a435e70-7caa-11ec-9877-e59fc111252d"},"label":"Arguments are present"}],"otherwiseEffectData":{"list":[{"id":"d518c900-b035-11ed-9ad5-ab2c9c7f4920","type":"firebot:runcommand","active":true,"commandType":"custom","commandId":"a67d271b-68c9-4ae6-95ff-47ed30b71858","percentWeight":null}],"id":"1a4189b0-7caa-11ec-9877-e59fc111252d"},"percentWeight":null,"effectLabel":"Check for any command arguments","otherwiseLabel":"Arguments are not present (it is blank)"}],"id":"d0fa8d40-0a83-11f0-8568-0736c1358647"},"label":"The queue is open"}],"otherwiseEffectData":{"list":[{"id":"fa7a2db0-0a83-11f0-8568-0736c1358647","type":"firebot:chat","active":true,"chatter":"Bot","message":"‚ö†Ô∏èThe queue is closed! LetMeIn","sendAsReply":true,"percentWeight":null}],"id":"d0fa1810-0a83-11f0-8568-0736c1358647"},"percentWeight":null,"otherwiseLabel":"The queue is closed","effectLabel":"Check queue status"}]},"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true,"failMessage":"Sorry @{user}, you cannot use this command because: {reason}","sendAsReply":false},"aliases":["!bsr","!sr","!srxd","!xd","!ssr","!req","!add"],"sortTags":["43de2a97-6ce8-4bcd-ad0f-c7760e2b3f27"],"treatQuotedTextAsSingleArg":false,"allowTriggerBySharedChat":"inherit","trigger":"!request","id":"fba81c18-e778-4f7d-9da2-5369fadcdcc3","createdBy":"theblackparrot","createdAt":"2025-08-25T05:24:03.897-05:00","count":48,"type":"custom","lastEditBy":"theblackparrot","lastEditAt":"2025-08-26T15:07:49.770-05:00"},{"active":true,"simple":false,"sendCooldownMessage":true,"cooldownMessage":"This command is still on cooldown for: {timeLeft}","cooldown":{},"effects":{"id":"e1e456c3-c350-4899-8017-b9d7c17f9755","list":[{"id":"5950fdb4-5205-473b-943b-27e97b51760a","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"limit":"1"},"effectList":{"list":[],"id":"56d3a0ae-b2a2-4c35-995f-ba3b299cc8d8"},"bubbleOutputs":false,"presetListId":"b6cdf885-4af9-4aa5-b516-b6056db3b3c4","percentWeight":null},{"id":"8ef60a26-2ac4-4ed0-83df-d5e8dc42d88e","type":"firebot:chat","active":true,"chatter":"Bot","sendAsReply":true,"message":"Current map: $$currentSRXDMap[\"Artist\"] - $$currentSRXDMap[\"Title\"] (mapped by $$currentSRXDMap[\"Mapper\"]) $if[$textSubstring[$$currentSRXDMap[\"FileReference\"], 0, 10] == \"spinshare_\", - https://spinsha.re/song/$$currentSRXDMap[\"FileReference\"]]","percentWeight":null}]},"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true,"failMessage":"Sorry @{user}, you cannot use this command because: {reason}","sendAsReply":false},"aliases":["!song","!map"],"sortTags":["acafc60c-4ed2-435a-abf6-991d6d202b0f","43de2a97-6ce8-4bcd-ad0f-c7760e2b3f27"],"treatQuotedTextAsSingleArg":false,"trigger":"!link","ignoreWhispers":true,"ignoreBot":true,"id":"24d39463-0887-451a-a9c4-fa71ea6bdb4a","createdBy":"theblackparrot","createdAt":"2024-11-26T04:28:23.537-06:00","count":3,"type":"custom","lastEditBy":"theblackparrot","lastEditAt":"2025-08-26T14:43:30.800-05:00","allowTriggerBySharedChat":"inherit"},{"active":true,"simple":false,"sendCooldownMessage":true,"cooldownMessage":"This command is still on cooldown for: {timeLeft}","cooldown":{},"effects":{"id":"afe1d6fb-7cd5-426e-a7cd-7bce578f4cd3","list":[{"id":"ee86c67b-c72a-4a44-8062-af3d042dbc4d","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"limit":"2"},"effectList":{"list":[],"id":"e6e96b04-f144-4a0b-a07f-7950c5fef90f"},"bubbleOutputs":false,"presetListId":"b6cdf885-4af9-4aa5-b516-b6056db3b3c4","percentWeight":null},{"id":"2092bde1-bb9c-42b5-b0d1-f94059e68125","type":"firebot:chat","active":true,"chatter":"Bot","sendAsReply":true,"message":"Previous map: $$previousSRXDMap[\"Artist\"] - $$previousSRXDMap[\"Title\"] (mapped by $$previousSRXDMap[\"Mapper\"]) $if[$textSubstring[$$previousSRXDMap[\"FileReference\"], 0, 10] == \"spinshare_\", - https://spinsha.re/song/$$previousSRXDMap[\"FileReference\"]]","percentWeight":null}]},"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true,"failMessage":"Sorry @{user}, you cannot use this command because: {reason}","sendAsReply":false},"aliases":["!prevsong","!prevmap","!previous"],"sortTags":["acafc60c-4ed2-435a-abf6-991d6d202b0f","43de2a97-6ce8-4bcd-ad0f-c7760e2b3f27"],"treatQuotedTextAsSingleArg":false,"trigger":"!prevlink","ignoreWhispers":true,"ignoreBot":true,"id":"e1ab4eaa-d13c-432a-b82b-ea42ecf059d6","createdBy":"theblackparrot","createdAt":"2024-11-26T04:28:23.537-06:00","count":2,"type":"custom","lastEditBy":"theblackparrot","lastEditAt":"2025-08-25T06:02:15.129-05:00","allowTriggerBySharedChat":"inherit"},{"active":true,"simple":false,"sendCooldownMessage":true,"cooldownMessage":"This command is still on cooldown for: {timeLeft}","cooldown":{},"effects":{"id":"669b9692-737c-4eb1-a444-7d7ed8b3b3a7","list":[{"id":"2847a65d-3402-4e51-8c7f-3c26c98e9445","type":"firebot:http-request","active":true,"headers":[],"options":{"runEffectsOnError":true,"timeout":10000},"url":"http://127.0.0.1:6969/add/$arg[1]?user=$if[$argCount >= 2, $userDisplayName[$replace[$arg[2], \"@\", \"\"]], $userDisplayName]","method":"GET","percentWeight":null,"errorEffects":{"list":[{"id":"5f128954-fa37-42ca-8734-95a84ff26fb9","type":"firebot:chat","active":true,"chatter":"Bot","sendAsReply":true,"message":"‚ö†Ô∏è Something went wrong.","percentWeight":null},{"id":"cd0249e0-ace6-4cbc-9f25-8e72cf8257a2","type":"firebot:stop-effect-execution","active":true,"target":"currentList","bubbleStop":true,"percentWeight":null}],"id":"a393724b-9e3b-468b-827d-4a6481560f28"},"outputNames":{"httpResponse":"modaddResponse"}},{"id":"35f1feee-b92f-4fbf-861c-fb49740011b6","type":"firebot:chat","active":true,"chatter":"Bot","message":"üÜó Added map $effectOutput[modaddResponse, \"SpinShareKey\"] to the queue.","sendAsReply":true,"percentWeight":null}]},"restrictionData":{"restrictions":[{"id":"bc5ff55e-3d3c-4613-ab68-7d4295bedb15","type":"firebot:permissions","mode":"roles","roleIds":["vip","mod","broadcaster"],"ranks":[]}],"mode":"any","sendFailMessage":false,"failMessage":"Sorry, you cannot use this command because: {reason}","sendAsReply":false},"aliases":[],"sortTags":["726175e0-54df-4869-99ec-590cd28f6442","43de2a97-6ce8-4bcd-ad0f-c7760e2b3f27"],"trigger":"!modadd","id":"f2d8781d-d37b-4d3e-8b5c-5fbd23a13a34","createdBy":"theblackparrot","createdAt":"2022-04-19T21:29:13-04:00","count":1,"lastEditBy":"theblackparrot","lastEditAt":"2025-08-26T14:43:42.024-05:00","treatQuotedTextAsSingleArg":false,"ignoreBot":true,"ignoreStreamer":false,"type":"custom","ignoreWhispers":true,"allowTriggerBySharedChat":"inherit"},{"active":true,"simple":false,"sendCooldownMessage":true,"cooldown":{"global":15},"effects":{"id":"3a4101b7-6f2d-4e65-9c81-076ed2446966","list":[{"id":"1b36b418-ded7-4110-a33c-43e5b46b718f","type":"firebot:chat","active":true,"chatter":"Bot","sendAsReply":true,"message":"To request maps, in your Internet browser of choice, navigate to https://spinsha.re and search for the map you want to see me play. Copy the numeric ID at the end of the link or the link itself with \"!srxd\" before it (e.g. \"!srxd 12345\"). You can also just paste the link! Or try using search terms!","percentWeight":null}]},"restrictionData":{"restrictions":[{"id":"ebced6f0-d9bb-4b50-a4a4-62fe7964041a","type":"firebot:channelGame","gameId":"514201","name":"Spin Rhythm XD"}],"mode":"all","sendFailMessage":false,"failMessage":"Sorry, you cannot use this command because: {reason}","sendAsReply":true},"aliases":["!bsrhelp","!srxdhelp","!requests"],"ignoreBot":true,"trigger":"!r","id":"a67d271b-68c9-4ae6-95ff-47ed30b71858","createdBy":"theblackparrot","createdAt":"2021-10-30T00:27:44-04:00","count":916,"lastEditBy":"theblackparrot","lastEditAt":"2025-08-26T14:44:45.751-05:00","sortTags":["656d6a82-ced1-4c4a-b1da-2c39cb534ad3","acafc60c-4ed2-435a-abf6-991d6d202b0f","43de2a97-6ce8-4bcd-ad0f-c7760e2b3f27"],"description":"Beat Saber request information","cooldownMessage":"This command is still on cooldown for: {timeLeft}","treatQuotedTextAsSingleArg":false,"type":"custom","allowTriggerBySharedChat":"inherit"},{"active":true,"simple":false,"sendCooldownMessage":true,"cooldownMessage":"This command is still on cooldown for: {timeLeft}","cooldown":{},"effects":{"id":"461afa04-fa24-4c4b-94b2-24d8ab821e98","list":[{"id":"eab4179e-75ab-4b64-9eac-6852857a609a","type":"firebot:runcommand","active":true,"commandType":"custom","commandId":"fba81c18-e778-4f7d-9da2-5369fadcdcc3","args":"$arrayElement[$splitText[$chatMessage, \"/\"], last]","percentWeight":null}]},"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true,"failMessage":"Sorry @{user}, you cannot use this command because: {reason}","sendAsReply":false},"aliases":[],"sortTags":["43de2a97-6ce8-4bcd-ad0f-c7760e2b3f27"],"treatQuotedTextAsSingleArg":false,"allowTriggerBySharedChat":"inherit","triggerIsRegex":true,"trigger":"^https://spinsha.re/song/*","id":"7f2d5340-e7b0-4454-9e45-b999026d5004","createdBy":"theblackparrot","createdAt":"2025-08-25T06:09:25.076-05:00","count":36,"type":"custom","lastEditBy":"theblackparrot","lastEditAt":"2025-08-26T14:46:11.965-05:00","ignoreBot":true,"regexDescription":"Any message that starts with \"https://spinsha.re/song/\""},{"active":true,"simple":false,"sendCooldownMessage":false,"cooldownMessage":"This command is still on cooldown for: {timeLeft}","cooldown":{"global":10},"effects":{"id":"5b3c4021-498b-4893-ae36-a747797b41a5","list":[{"id":"e5247515-cede-473d-876a-4eff2e0da477","type":"firebot:chat","active":true,"chatter":"Bot","me":true,"message":"The queue is now closed. arnoldHalt","percentWeight":null},{"id":"d3b77e5f-04bc-485d-82de-80c9e425b277","type":"firebot:customvariable","active":true,"ttl":0,"name":"srxdQueueOpen","variableData":"false","percentWeight":null}]},"restrictionData":{"restrictions":[{"id":"98f1e548-60d9-4b1b-8dd2-1d27fae02618","type":"firebot:permissions","mode":"roles","roleIds":["broadcaster","mod"],"ranks":[]}],"mode":"all","sendFailMessage":false,"failMessage":"Sorry @{user}, you cannot use this command because: {reason}","sendAsReply":false},"aliases":[],"sortTags":["43de2a97-6ce8-4bcd-ad0f-c7760e2b3f27"],"treatQuotedTextAsSingleArg":false,"trigger":"!close","ignoreBot":true,"ignoreWhispers":true,"id":"3a88743c-bbb5-4c4b-a643-3539e2f119d0","createdBy":"theblackparrot","createdAt":"2025-03-26T15:47:40.973-05:00","count":0,"type":"custom","lastEditBy":"theblackparrot","lastEditAt":"2025-08-26T14:46:24.581-05:00","allowTriggerBySharedChat":"inherit"},{"active":true,"simple":false,"sendCooldownMessage":false,"cooldownMessage":"This command is still on cooldown for: {timeLeft}","cooldown":{"global":10},"effects":{"id":"3635eaf4-d947-4c5f-a8ba-0aaa764ffbc2","list":[{"id":"722eb126-1f26-4dec-932f-84e0f7baca28","type":"firebot:chat","active":true,"chatter":"Bot","me":true,"message":"The queue is now open! duckKill","percentWeight":null},{"id":"fbecd585-3674-4cd2-bbfa-47b675c0566d","type":"firebot:customvariable","active":true,"ttl":0,"name":"srxdQueueOpen","variableData":"true","percentWeight":null}]},"restrictionData":{"restrictions":[{"id":"03a414a0-b281-4fa9-b170-c971e25bc5b8","type":"firebot:permissions","mode":"roles","roleIds":["broadcaster","mod"],"ranks":[]}],"mode":"all","sendFailMessage":false,"failMessage":"Sorry @{user}, you cannot use this command because: {reason}","sendAsReply":false},"aliases":[],"sortTags":["43de2a97-6ce8-4bcd-ad0f-c7760e2b3f27"],"treatQuotedTextAsSingleArg":false,"trigger":"!open","ignoreBot":true,"ignoreWhispers":true,"id":"323bfe35-49fe-4065-a584-4e57510bbe38","createdBy":"theblackparrot","createdAt":"2025-03-26T15:47:40.973-05:00","count":0,"type":"custom","lastEditBy":"theblackparrot","lastEditAt":"2025-08-26T14:46:30.805-05:00","allowTriggerBySharedChat":"inherit"},{"active":true,"simple":false,"sendCooldownMessage":true,"cooldownMessage":"This command is still on cooldown for: {timeLeft}","cooldown":{},"effects":{"id":"47d0f2b1-83eb-4314-8fa4-2d930c8e062e","list":[{"id":"fcf8e020-7e1e-49a4-988e-cee278691a05","type":"firebot:chat","active":true,"chatter":"Bot","sendAsReply":true,"message":"The queue is $if[$$srxdQueueOpen == $true, \"open! duckKill\", \"closed! LetMeIn\"]","percentWeight":null}]},"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true,"failMessage":"Sorry @{user}, you cannot use this command because: {reason}","sendAsReply":false},"aliases":[],"sortTags":["726175e0-54df-4869-99ec-590cd28f6442","43de2a97-6ce8-4bcd-ad0f-c7760e2b3f27"],"treatQuotedTextAsSingleArg":false,"allowTriggerBySharedChat":"inherit","trigger":"!queuestatus","id":"3a9853c1-bccc-4412-b8a6-63265515dbb0","createdBy":"theblackparrot","createdAt":"2025-07-10T09:27:05.480-05:00","count":1,"type":"custom","lastEditBy":"theblackparrot","lastEditAt":"2025-08-26T14:46:42.365-05:00"},{"active":true,"simple":false,"sendCooldownMessage":true,"cooldownMessage":"This command is still on cooldown for: {timeLeft}","cooldown":{},"effects":{"id":"cdfc17f7-e5c2-436c-8b6c-d81e6cdae234","list":[{"id":"31da53fd-7cf2-4b92-94f2-8c8d1e9b2c44","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$arg[1]","rightSideValue":"me"}]},"effectData":{"list":[{"id":"8ca044ed-ab1c-4eb6-9add-1d212107edad","type":"firebot:http-request","active":true,"headers":[],"options":{"timeout":10000,"runEffectsOnError":true},"url":"http://127.0.0.1:6969/queue?user=$userDisplayName","method":"GET","errorEffects":{"list":[{"id":"78a0143b-ecdc-4907-a598-84a37d6dc9f8","type":"firebot:chat","active":true,"chatter":"Bot","sendAsReply":true,"message":"‚ö†Ô∏è Something went wrong.","percentWeight":null},{"id":"803edf11-411e-460a-8d01-4c310e22e10e","type":"firebot:stop-effect-execution","active":true,"target":"currentList","bubbleStop":true,"percentWeight":null}],"id":"10ea2f69-494d-432a-b415-5d1a2d9ff426"},"percentWeight":null,"outputNames":{"httpResponse":"queueResponse"},"effectLabel":"Get the maps the user has queued"},{"id":"6eec7fb3-0dc8-40ef-8953-69b94a7b65ba","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$arrayLength[$effectOutput[queueResponse]]","rightSideValue":"0"}]},"effectData":{"list":[{"id":"9e4c376e-b360-4c02-9aaa-40aceb3b97fa","type":"firebot:chat","active":true,"chatter":"Bot","message":" ‚ö†Ô∏è You have no maps in the queue","sendAsReply":true,"percentWeight":null}],"id":"f997ab16-ddbd-4e60-83b7-23934abab3b7"},"label":"User has no maps in the queue"}],"otherwiseEffectData":{"list":[{"id":"a42fd53f-1c4b-400c-adea-9b87bee9dda1","type":"firebot:chat","active":true,"chatter":"Bot","message":"üÜó You have $arrayLength[$effectOutput[queueResponse]] map$if[$arrayLength[$effectOutput[queueResponse]] > 1, \"s\", \"\"] in the queue","sendAsReply":true,"percentWeight":null}],"id":"4f040e78-e274-4e34-94b7-98bc150a380c"},"percentWeight":null,"otherwiseLabel":"User has maps in the queue","effectLabel":"Check if user has maps in the queue"}],"id":"a7e5a33d-7395-4462-b51c-f8d6313fd667"},"label":"First argument is \"me\""}],"otherwiseEffectData":{"list":[{"id":"30f654fa-bf2d-4064-af64-8b1ce04b44b1","type":"firebot:http-request","active":true,"headers":[],"options":{"timeout":10000,"runEffectsOnError":true},"url":"http://127.0.0.1:6969/queue","method":"GET","errorEffects":{"list":[{"id":"78a0143b-ecdc-4907-a598-84a37d6dc9f8","type":"firebot:chat","active":true,"chatter":"Bot","sendAsReply":true,"message":"‚ö†Ô∏è Something went wrong.","percentWeight":null},{"id":"803edf11-411e-460a-8d01-4c310e22e10e","type":"firebot:stop-effect-execution","active":true,"target":"currentList","bubbleStop":true,"percentWeight":null}],"id":"10ea2f69-494d-432a-b415-5d1a2d9ff426"},"percentWeight":null,"outputNames":{"httpResponse":"queueResponse"},"effectLabel":"Get the entire queue"},{"id":"7d1cad86-38fe-4dc6-ade8-aed02e8fbf96","type":"firebot:chat","active":true,"chatter":"Bot","message":"üÜó There are $arrayLength[$effectOutput[queueResponse]] map$if[$arrayLength[$effectOutput[queueResponse]] > 1, \"s\", \"\"] in the queue","sendAsReply":true,"percentWeight":null}],"id":"3ce0acf0-a21c-452a-b77f-7d76ddb0e2da"},"percentWeight":null,"otherwiseLabel":"Arguments are blank","effectLabel":"Check if arguments are present"}]},"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true,"failMessage":"Sorry @{user}, you cannot use this command because: {reason}","sendAsReply":false},"aliases":[],"sortTags":["43de2a97-6ce8-4bcd-ad0f-c7760e2b3f27"],"treatQuotedTextAsSingleArg":false,"trigger":"!queue","ignoreWhispers":true,"ignoreBot":true,"id":"bf48be3d-4f15-455a-a3d1-494a95eee961","createdBy":"theblackparrot","createdAt":"2024-12-02T07:50:59.866-06:00","count":7,"type":"custom","lastEditBy":"theblackparrot","lastEditAt":"2025-08-26T14:51:28.336-05:00","allowTriggerBySharedChat":"inherit"}],"counters":[],"currencies":[],"effectQueues":[],"events":[],"eventGroups":[],"hotkeys":[],"presetEffectLists":[{"name":"Query Spin Rhythm XD Map","effects":{"list":[{"id":"d26a8c91-253e-4f45-b6c4-1bdd2f5125bc","type":"firebot:http-request","active":true,"headers":[],"options":{"timeout":10000,"runEffectsOnError":false},"outputNames":{"httpResponse":"srxdQueryResponse"},"method":"GET","url":"http://127.0.0.1:6969/query/$#SpinShareKey","percentWeight":null,"errorEffects":{"list":[],"id":"faf58f4a-0db6-4d03-be8a-975b66c21311"}},{"id":"7b58df62-cb41-407d-b808-149839560d4b","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$effectOutput[srxdQueryResponse]","rightSideValue":""}]},"effectData":{"list":[{"id":"588b4054-48f8-4492-bd49-70800d72afea","type":"firebot:chat","active":true,"chatter":"Bot","message":"‚ö†Ô∏è Something went wrong","percentWeight":null,"sendAsReply":true},{"id":"c18ffb65-5066-4b77-bef4-1f8c33324182","type":"firebot:stop-effect-execution","active":true,"target":"currentList","bubbleStop":true,"percentWeight":null}],"id":"d985232f-7440-4587-b84d-fde41d5d8d9e"},"label":"No response at all"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$objectWalkPath[$effectOutput[srxdQueryResponse], message]"}]},"effectData":{"list":[{"id":"27ca4c0c-f793-4c2e-bd29-7224c272a792","type":"firebot:chat","active":true,"chatter":"Bot","message":"‚ö†Ô∏è Something went wrong: $objectWalkPath[$effectOutput[srxdQueryResponse], message]","percentWeight":null,"sendAsReply":true},{"id":"b411e7cd-eb22-4e9a-b462-1974a01312b0","type":"firebot:stop-effect-execution","active":true,"target":"currentList","bubbleStop":true,"percentWeight":null}],"id":"f2cfa894-f309-429e-aa35-865979ff8a8c"},"label":"Response contains a message (only errors)"}],"otherwiseEffectData":{"list":[],"id":"2d538f63-b5a5-4e63-9072-feac573f9bd8"},"percentWeight":null,"effectLabel":"Check for bad responses"},{"id":"3a6aee57-e609-4e63-a643-024094cbdde3","type":"firebot:customvariable","active":true,"ttl":0,"name":"srxdInfo","variableData":"$effectOutput[srxdQueryResponse]","percentWeight":null}],"id":"afee7bb4-372b-4844-bc9d-70ce782b5e1a"},"args":[{"name":"SpinShareKey"}],"sortTags":[],"id":"63a0cc43-8920-46b4-b659-99f461a18dea"},{"name":"Query Spin Rhythm XD Session History","effects":{"list":[{"id":"692f49a5-5c38-4af9-a499-159a459a965b","type":"firebot:http-request","active":true,"headers":[],"options":{"timeout":10000},"outputNames":{"httpResponse":"srxdHistoryResponse"},"method":"GET","url":"http://127.0.0.1:6969/history?limit=$#limit","percentWeight":null},{"id":"38f1d99b-02fa-4e8b-a67f-8081c4d57a51","type":"firebot:customvariable","active":true,"ttl":0,"name":"srxdSessionHistory","variableData":"$effectOutput[srxdHistoryResponse]","percentWeight":null},{"id":"5044f9ae-662f-4199-8efa-5e48c3734fc2","type":"firebot:customvariable","active":true,"ttl":0,"name":"currentSRXDMap","variableData":"$$srxdSessionHistory[0]","percentWeight":null},{"id":"37d71933-b05c-494e-819f-c6ef82ddd26e","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"inclusive","conditions":[{"type":"firebot:custom","comparisonType":"is greater than","value":null,"leftSideValue":"$#limit","rightSideValue":"1"},{"type":"firebot:custom","comparisonType":"is strictly","value":null,"leftSideValue":"$#limit"}]},"effectData":{"list":[{"id":"d3a6947e-f39c-4b4e-a37c-547ca648bab0","type":"firebot:customvariable","active":true,"ttl":0,"name":"previousSRXDMap","variableData":"$$srxdSessionHistory[1]","percentWeight":null}],"id":"b9c0f0fe-6f4b-4d7c-850f-c8c8c6abfd39"}}],"otherwiseEffectData":{"list":[],"id":"a7cfeab9-30e1-4456-a2f3-5096fa930349"},"percentWeight":null}],"id":"8d339ea2-bfc7-4f4f-9ab7-99d476e145f6"},"args":[{"name":"limit"}],"sortTags":[],"id":"b6cdf885-4af9-4aa5-b516-b6056db3b3c4"},{"name":"Get Spin Rhythm XD Info String","effects":{"list":[{"id":"a9a77c5d-9589-4c30-9bcb-aa981aa37c87","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"inclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$$srxdInfo[\"CensorTitle\"]","rightSideValue":"true"},{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$$srxdInfo[\"CensorSubTitle\"]","rightSideValue":"true"},{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$$srxdInfo[\"CensorArtist\"]","rightSideValue":"true"},{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$$srxdInfo[\"CensorMapper\"]","rightSideValue":"true"},{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$$srxdInfo[\"MetadataHasSplicedCensor\"]","rightSideValue":"true"}]},"effectData":{"list":[{"id":"988168fd-f2cd-4e0a-b065-23e35f7bb0fc","type":"firebot:chat","active":true,"chatter":"Bot","message":"Detected potentially malicious map information, no map info for map $$srxdInfo[\"SpinShareKey\"].","percentWeight":null}],"id":"e4a43c95-3820-49c7-ab0a-a753b8273385"}},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is less than","value":null,"leftSideValue":"$math[$unixTimestamp - $$srxdInfo[\"UploadTime\"]]","rightSideValue":"259200"}]},"effectData":{"list":[{"id":"80fa6013-8729-4810-9bf7-ddb264769b4a","type":"firebot:chat","active":true,"chatter":"Bot","message":"Map $$srxdInfo[\"SpinShareKey\"] was uploaded less than 3 days ago, hiding information for now.","percentWeight":null}],"id":"4fc0f7bc-1430-499d-87ab-7d38ba447516"}}],"otherwiseEffectData":{"list":[{"id":"1e951d2c-1351-4591-a680-6ff2b03c7a64","type":"firebot:chat","active":true,"chatter":"Bot","sendAsReply":false,"message":"(ID $$srxdInfo[\"SpinShareKey\"]) $$srxdInfo[\"Artist\"] - $$srxdInfo[\"Title\"] (mapped by $$srxdInfo[\"Mapper\"]) [$date[\"MMM YYYY\", $math[($unixTimestamp - $$srxdInfo[\"UploadTime\"]) * -1], seconds]]","percentWeight":null}],"id":"a765bd72-8c0a-4cc9-ad2d-012014104644"},"percentWeight":null}],"id":"cb958288-3d1f-46c2-987d-3511a227245e"},"args":[],"sortTags":[],"id":"f69cce9a-c2fa-46f6-8559-da13b4fd1a41"}],"timers":[],"scheduledTasks":[],"variableMacros":[],"viewerRoles":[],"viewerRankLadders":[],"quickActions":[]},"requireCurrency":false,"importQuestions":[]}